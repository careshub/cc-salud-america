/*! ccSA - v1.4.0 - 2015-12-14 */!function(a){"use strict";function b(b){a("#"+b+" .working-indicator").addClass("ajax-loading"),e.ajax.send("cc_sa_get_recent_items",{success:c,error:function(){return""},data:{advo_target:b,exclude_ids:a("#sa-recent-items-exclude-ids").val()}})}function c(b){var c=a("#sa-recent-items-exclude-ids").val().split(",");a.each(b.posts,function(b,d){a(".recent-item-cell."+b+" .entry-footer").before(f(d)),c.push(d.post_id)}),d(b.term_slug),a("#sa-recent-items-exclude-ids").val(c.toString())}function d(b){a(".recent-item-cell .entry-content").filter(":visible").fadeOut("fast",function(){a(".recent-item-cell .entry-content."+b).fadeIn("fast")}),a("#"+b+" .working-indicator.ajax-loading").removeClass("ajax-loading"),a(".topic-selector a.active").removeClass("active"),a(".topic-selector a#"+b).addClass("active")}var e=window.wp,f=e.template("salud-recent-items-block"),g=!1,h="";a(function(){if(window.sa=window.sa||{},"undefined"!=typeof base_map_widget_src){var c=jQuery("#map-widget-container").width(),e=240,f="";c=Math.round(c),jQuery(window).width()>599&&jQuery("#sa-join-group-action-call").height()?e=jQuery("#sa-join-group-action-call").height():c>500&&(e=Math.round(2*c/3)),f="&w="+c+"&h="+e;var i=document.getElementById("map-widget-container");document._write||(document._write=document.write),document.write=function(a){i.innerHTML+=a},jQuery.ajax({url:base_map_widget_src+f,dataType:"script",cache:!0,crossDomain:!0}).success(function(){})}a("#topic-toggle").on("click","a.toggle",function(c){c.preventDefault(),g===!1&&(g=!0,h=a(this).attr("id"),a(".recent-item-cell .entry-content."+h).length?d(h):b(h),g=!1)}),a("#salud-search-advanced").length&&(a('input[name="type[]"]:checked').length||a('input[name="topic[]"]:checked').length||a("#salud-search-advanced").hide()),a("#toggle-advanced-search").click(function(b){b.preventDefault(),a("#salud-search-advanced").toggle()}),a("#salud-advanced-hub-search-submit").click(function(b){b.preventDefault();var c="",d=1;a('input[name="type[]"]:checked').each(function(){d>1&&(c+=","),c+=a(this).val(),d++}),a("#salud-hub-advanced-search #type").val(c),c="",d=1,a('input[name="topic[]"]:checked').each(function(){d>1&&(c+=","),c+=a(this).val(),d++}),a("#salud-hub-advanced-search #topic").val(c),a("#salud-hub-advanced-search").submit()})})}(jQuery);